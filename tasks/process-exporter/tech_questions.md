# **Технические вопросы по Process Exporter к собеседованию**

1. **Как Process Exporter определяет процессы для мониторинга?**  
   Process Exporter использует файл конфигурации (`config.yml`) или автоматическое обнаружение процессов по имени или командной строке запуска.

2. **Как настроить `cmdline` для точного определения процессов в Process Exporter?**  
   В файле `config.yml` укажите параметр `cmdline`, который сопоставляет часть командной строки с процессом. Пример:  
   ```yaml
   process_names:
     - name: "my-app"
       cmdline:
         - "java -jar my-app.jar"
   ```

3. **Как группировать процессы в Process Exporter?**  
   Используйте параметр `name` в `config.yml` для объединения нескольких процессов в одну группу. Например, все экземпляры Java-приложений можно объединить в группу `java-apps`.

4. **Как отслеживать процессы с динамическими именами (например, временные процессы)?**  
   Настройте регулярные выражения в параметре `cmdline` для захвата процессов с изменяющимися частями командной строки.

5. **Как Process Exporter обрабатывает процессы, которые завершаются или перезапускаются?**  
   Process Exporter автоматически обновляет список процессов и удаляет метрики для завершённых процессов.

6. **Как настроить мониторинг всех процессов на сервере?**  
   В файле `config.yml` укажите пустой список `process_names`. Это позволит Process Exporter собирать метрики для всех процессов.

7. **Как исключить определённые процессы из мониторинга?**  
   Настройте параметр `ignore` в `config.yml`. Пример:  
   ```yaml
   process_names:
     - ignore:
         - "sshd"
   ```

8. **Как Process Exporter работает с процессами, запущенными под разными пользователями?**  
   Process Exporter собирает метрики для всех процессов независимо от их владельца. Для фильтрации используйте параметр `cmdline`.

9. **Как использовать метки (labels) в Process Exporter для группировки процессов?**  
   Настройте параметр `name` в `config.yml`. Метка `groupname` будет автоматически добавлена к метрикам.

10. **Как настроить автоматическое обнаружение процессов без использования файла конфигурации?**  
    Запустите Process Exporter без `config.yml`. Он будет автоматически обнаруживать процессы по их именам.

11. **Как мониторить процессы с одинаковыми именами, но разными аргументами командной строки?**  
    Используйте параметр `cmdline` для различения процессов. Пример:  
    ```yaml
    process_names:
      - name: "app-instance-1"
        cmdline:
          - "app --port=8080"
      - name: "app-instance-2"
        cmdline:
          - "app --port=9090"
    ```

12. **Как Process Exporter обрабатывает процессы, запущенные внутри контейнеров?**  
    Process Exporter может мониторить процессы в контейнерах, если он запущен на хосте с доступом к пространству имён контейнера.

13. **Как настроить мониторинг процессов в Kubernetes с помощью Process Exporter?**  
    Разверните Process Exporter как DaemonSet → Настройте Service Discovery в Prometheus.

14. **Как Process Exporter собирает метрики для процессов с высокой нагрузкой?**  
    Process Exporter использует данные `/proc` для сбора метрик, таких как CPU, память и дисковые операции, даже для процессов с высокой нагрузкой.

15. **Как Process Exporter различает процессы с одинаковыми именами, но разными PID?**  
    Process Exporter группирует процессы по имени или командной строке и предоставляет агрегированные метрики.

16. **Как использовать Process Exporter для мониторинга процессов, запущенных через системные службы (например, systemd)?**  
    Настройте параметр `cmdline` для захвата процессов, запущенных через `systemd`. Пример:  
    ```yaml
    process_names:
      - name: "nginx"
        cmdline:
          - "/usr/sbin/nginx"
    ```

17. **Как Process Exporter обрабатывает процессы, которые используют много потоков?**  
    Process Exporter собирает метрики для каждого процесса, включая его потоки, и предоставляет агрегированные данные.

18. **Как настроить логирование для Process Exporter?**  
    Используйте параметр `--log.level` при запуске Process Exporter. Пример:  
    ```bash
    ./process-exporter --log.level=debug
    ```

19. **Как Process Exporter обрабатывает процессы, которые не имеют доступных метрик (например, зомби-процессы)?**  
    Process Exporter игнорирует такие процессы и не предоставляет для них метрики.

20. **Как использовать Process Exporter для мониторинга процессов в реальном времени?**  
    Process Exporter предоставляет метрики в реальном времени через endpoint `/metrics`, которые можно интегрировать с Prometheus.

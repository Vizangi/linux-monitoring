# Вопросы и ответы к собеседованию на инженера по сопровождению ПО (с элементами SRE/DevOps)

#### **1. Расскажите о вашем опыте работы с инструментами SRE и DevOps. Какие задачи вы решали?**  
**Ответ:**  
Я участвовал в проектах по автоматизации развертывания инфраструктуры с использованием Terraform и Ansible. Например, настраивал CI/CD-пайплайны в GitLab для автоматического деплоя микросервисов в Kubernetes. Также внедрял мониторинг на базе Prometheus и Grafana, чтобы отслеживать метрики серверов и приложений. В рамках SRE работал над улучшением надежности системы: уменьшал время восстановления (MTTR) за счет автоматизации рутинных задач и улучшения документации.

---

#### **2. Как вы внедряли обновления серверов? Какие инструменты использовали, и как применяли Ansible?**  
**Ответ:**  
Для обновления серверов я использовал Ansible для автоматизации. Например, создавал плейбуки, которые выполняли:  
- Обновление пакетов через `apt`/`yum`.  
- Перезапуск сервисов.  
- Проверку состояния системы после обновления.  
Также использовал Ansible для настройки конфигураций (например, обновление конфигов Nginx) и массового развертывания обновлений на сотни серверов. Для минимизации downtime применял постепенное развертывание (canary deployments) через интеграцию с Kubernetes.

---

#### **3. Приведите пример решения инцидента: база PostgreSQL «упала». Как вы действовали?**  
**Ответ:**  
Однажды мониторинг алертнул о недоступности PostgreSQL. Я:  
1. Проверил статус кластера через `systemctl status postgresql` и логи (`journalctl`).  
2. Обнаружил, что диск переполнен из-за неудаленных WAL-файлов.  
3. Очистил старые WAL, перезапустил кластер.  
4. Настроил автоматическую ротацию WAL через `archive_mode` и `archive_command`.  
5. Добавил алерт в Prometheus на проверку свободного места на диске.  

---

#### **4. Как вы настраивали мониторинг с Prometheus и Grafana? Приведите примеры.**  
**Ответ:**  
Для мониторинга я:  
- Устанавливал Node Exporter для сбора метрик серверов.  
- Использовал PostgreSQL Exporter для отслеживания состояния БД.  
- Настроил Prometheus для сбора данных и Grafana для визуализации.  
Пример дашборда:  
- Графики CPU/памяти, использование диска, время ответа HTTP-запросов.  
- Алерты на падение сервисов (например, если Nginx не отвечает 5 минут).  

---

#### **5. Какие обязанности, кроме технических, входили в вашу роль? Как вы решали кредитные заявки?**  
**Ответ:**  
Кроме технической поддержки, я:  
- Анализировал кредитные заявки через SQL-запросы к БД (например, проверял статусы транзакций).  
- Использовал ELK-стек для поиска ошибок в логах (например, сбои при обработке заявок).  
- Взаимодействовал с API внутренних сервисов через Postman или кастомные скрипты для обновления статусов заявок.  
- В Kubernetes проверял статус подов и перезапускал проблемные контейнеры.  

---

#### **6. Расскажите о вашем опыте работы с Kubernetes. Что обновляли, как мониторили?**  
**Ответ:**  
Я работал с Kubernetes:  
- Обновлял кластеры с помощью `kubeadm` и Helm-чартов.  
- Мониторил через Prometheus и Grafana (метрики CPU/памяти подов, статус деплойментов).  
- Автоматизировал деплой приложений через Argo CD.  
- Решал проблемы: например, устранял CrashLoopBackOff, анализируя логи контейнеров (`kubectl logs`), и пересоздавал зависшие поды.  

---

#### **7. Как вы управляли инцидентами с Nginx? Пример решения проблемы.**  
**Ответ:**  
При падении Nginx:  
1. Проверял статус сервиса: `systemctl status nginx`.  
2. Анализировал конфиг на ошибки: `nginx -t`.  
3. Если проблема в перегруженности сервера — добавлял upstream-серверы через настройку балансировки.  
4. Для профилактики настраивал лимиты запросов через `limit_req` и мониторил ошибки 5xx в Prometheus.  

---

#### **8. Какие инструменты использовали для работы с логами? Как интегрировали ELK?**  
**Ответ:**  
Я настраивал ELK-стек:  
- Собирал логи через Filebeat.  
- Парсил их в Logstash.  
- Хранил в Elasticsearch.  
- Визуализировал в Kibana (например, создавал дашборды для отслеживания ошибок в кредитных заявках).  
Это помогало быстро находить root cause, например, сбоев при обработке платежей.  

---

#### **9. Как вы обеспечивали надежность системы (SRE-практики)?**  
**Ответ:**  
Я внедрял:  
- SLO/SLI для ключевых сервисов (например, время ответа API ≤ 500 мс).  
- Автоматические резервные копии БД через `pg_dump` и скрипты на Bash.  
- Ротацию критических задач (on-call дежурства).  
- Post-mortem-анализ после инцидентов с фиксацией улучшений.  

---

#### **10. Как вы решали проблемы с производительностью приложений?**  
**Ответ:**  
Например, при медленных запросах к БД:  
1. Использовал `EXPLAIN` в PostgreSQL для анализа запросов.  
2. Добавлял индексы или переписывал запросы.  
3. Настройкал пул соединений через PgBouncer.  
4. Масштабировал кластер Kubernetes, увеличивая реплики подов.  

---

#### **11. Расскажите о вашем опыте с CI/CD. Какие инструменты использовали?**  
**Ответ:**  
Я настраивал пайплайны в GitLab CI:  
- Сборка Docker-образов.  
- Тестирование через pytest.  
- Деплой в Kubernetes с помощью Helm.  
Также использовал Argo CD для GitOps-подхода.  

---

#### **12. Как вы работали с инцидентами, связанными с сетью? Пример.**  
**Ответ:**  
При проблемах с доступностью сервиса:  
1. Проверял доступность через `curl` и `telnet`.  
2. Анализировал правила фаервола (`iptables`, Security Groups).  
3. Использовал `tcpdump` для захвата трафика.  
4. Например, восстановил работу Nginx, обновив настройки проксирования.  

---

#### **13. Как вы управляли конфигурациями серверов?**  
**Ответ:**  
Использовал Ansible для управления конфигами:  
- Хранил их в Git.  
- Автоматически применял изменения через плейбуки.  
- Проверял целостность конфигов с помощью тестов в Molecule.  

---

#### **14. Как вы решали проблемы с памятью в приложениях?**  
**Ответ:**  
Например, при OOM-ошибках в Java-приложении:  
1. Анализировал метрики в Prometheus/Grafana.  
2. Увеличивал лимиты памяти в Kubernetes.  
3. Оптимизировал код (например, уменьшал использование кучи).  

---

#### **15. Как вы взаимодействовали с командой разработки?**  
**Ответ:**  
- Участвовал в daily standup-митингах.  
- Создавал баг-репорты в Jira с детальным описанием проблем.  
- Предлагал улучшения кода (например, добавление логов для упрощения диагностики).  

---

#### **16. Как вы обеспечивали безопасность инфраструктуры?**  
**Ответ:**  
- Регулярно обновлял пакеты и закрывал уязвимости (CVE).  
- Настройвал TLS для сервисов (Let’s Encrypt).  
- Проверял права доступа в Kubernetes (RBAC).  

---

#### **17. Как вы тестировали обновления перед деплоем?**  
**Ответ:**  
- Использовал staging-окружение, идентичное production.  
- Проводил нагрузочное тестирование через JMeter.  
- Проверял бэкапы перед обновлениями БД.  

---

#### **18. Как вы решали проблемы с репликацией в PostgreSQL?**  
**Ответ:**  
При сбое репликации:  
1. Проверял статус реплики через `pg_stat_replication`.  
2. Восстанавливал WAL-файлы из архива.  
3. Перенастраивал репликацию через `pg_basebackup`.  

---

#### **19. Как вы работали с алертами из мониторинга?**  
**Ответ:**  
- Настройкал алерты в Prometheus на критические метрики (CPU > 90%, 5xx ошибки).  
- Интегрировал оповещения в Telegram/Email.  
- При срабатывании алерта анализировал root cause через Grafana и логи.  

---

#### **20. Какие навыки вы считаете основными для инженера по сопровождению?**  
**Ответ:**  
- Глубокое понимание инфраструктуры (Linux, сети, БД).  
- Умение быстро анализировать логи и метрики.  
- Навыки автоматизации (Ansible, Bash, Terraform).  
- Коммуникация с клиентами и командами.  
- Знание принципов SRE (SLO, постмортемы).  
